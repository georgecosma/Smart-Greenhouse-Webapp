
<div class="block-header">
    <h2>PANOU GENERAL</h2>
</div>

<div class="row">
    <!--MOISTURE-->
    <div class="col-md-4">
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="width:100%;">
            <div class="card" style="min-height:320px;">
                <div class="header bg-blue">
                    <div class="row">
                        <div class="col-md-1">
                            <center><i class="fa fa-tint fa-2x" aria-hidden="true"></i></center>
                        </div>
                        <div class="col-md-11">
                            <center><div class="text" style="font-size:large">UMIDITATEA LIVE</div></center>
                        </div>
                    </div>
                </div>
                <div class="body">
                    <div class="text">Situația în timp real privind umiditatea solului.</div>
                    <hr />
                    <ul class="dashboard-stat-list">
                        <li>
                            <b>UMIDITATE<span class="pull-right">VALOARE</span></b>
                        </li>
                        <li>
                            LINIA 1
                            <span class="pull-right"><b id="soilMoisture1Div">@ViewBag.soilMoisture1</b>%<b></b></span>
                        </li>
                        <li>
                            LINIA 2
                            <span class="pull-right"><b id="soilMoisture2Div">@ViewBag.soilMoisture2</b>%<b></b></span>
                        </li>
                        <li>
                            LINIA 3
                            <span class="pull-right"><b id="soilMoisture3Div">@ViewBag.soilMoisture3</b>%<b></b></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--LUMINOSITY-->
    <div class="col-md-4">
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="width:100%;">
            <div class="card" style="min-height:280px;">
                <div class="header bg-orange">
                    <div class="row">
                        <div class="col-md-1">
                            <center><i class="material-icons">wb_sunny</i></center>
                        </div>
                        <div class="col-md-11">
                            <center><div class="text" style="font-size:large">LUMINOZITATEA LIVE</div></center>
                        </div>
                    </div>
                </div>
                <div class="body">
                    <div class="text">Situația în timp real privind luminozitatea.</div>
                    <hr />
                    <ul class="dashboard-stat-list">
                        <li>
                            <b>LUMINOZITATE<span class="pull-right">VALOARE</span></b>
                        </li>
                        <li>
                            INTERIOARĂ
                            <span class="pull-right"><b id="luminosityValueDiv">@ViewBag.luminosityValue</b></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--TEMPERATURE-->
    <div class="col-md-4">
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4" style="width:100%;">
            <div class="card" style="min-height:280px;">
                <div class="header bg-red">
                    <div class="row">
                        <div class="col-md-1">
                            <center><i class="fa fa-thermometer-half fa-2x" aria-hidden="true"></i></center>
                        </div>
                        <div class="col-md-11">
                            <center><div class="text" style="font-size:large">TEMPERATURA LIVE</div></center>
                        </div>
                    </div>
                </div>
                <div class="body">
                    <div class="text">Situația în timp real privind temperatura.</div>
                    <hr />
                    <ul class="dashboard-stat-list">
                        <li>
                            <b>TEMPERATURA<span class="pull-right">VALOARE</span></b>
                        </li>
                        <li>
                            INTERIOARĂ
                            <span class="pull-right"><b id="temperatureValueDiv">@ViewBag.temperatureValue</b> <b>&#8451;</b></span>
                        </li>
                        @*
                        <li>
                            EXTERIOARĂ
                            <span class="pull-right"><b>28.00</b> <b>&#8451;</b></span>
                        </li>
                            *@
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

   
        function sendRequest() {
            $.ajax({
                url: '/Home/updateValues',
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    document.getElementById("temperatureValueDiv").innerHTML = data.temperatureValue;
                    document.getElementById("luminosityValueDiv").innerHTML = data.luminosityValue;
                    document.getElementById("soilMoisture1Div").innerHTML = data.soilMoisture1;
                    document.getElementById("soilMoisture2Div").innerHTML = data.soilMoisture2;
                    document.getElementById("soilMoisture3Div").innerHTML = data.soilMoisture3;
                  },
                complete: function () {
                    // Schedule the next request when the current one's complete
                     // The interval set to 5 seconds
                }
            });
        };

      setInterval(sendRequest, 5000);

</script>

